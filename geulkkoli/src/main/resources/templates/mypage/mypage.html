<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" ,
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마이페이지</title>
    <link th:href="@{/css/styles.css}" rel="stylesheet">
    <link rel="stylesheet" href="/css/mypage.css">
</head>
<nav id="sidenav">
    <ul>
        <li>좋아요 누른 작품</a></li>
        <li>내 작품</li>
    </ul>
</nav>
<body>
<header id="header" th:include="header"></header>
<aside>
    <span><strong style="text-align: center">개인 페이지</strong></span>
    <section style="text-align: center">
        <a class="following-link"
           th:attr="data-url='/user/'+${#authentication.principal.nickName} + '/followers'"
           onclick="location.href=this.getAttribute('data-url')"
           th:if="${followsCount.getFollowerCount() > 0}">
            <em>구독자</em>
            <span th:text="${followsCount.getFollowerCount()}"></span>
        </a>
        <a class="following-link" href="#" th:unless="${followsCount.getFollowerCount() > 0}">
            <em>구독자</em>
            <span th:text="${followsCount.getFollowerCount()}"></span>
        </a>


        <a class="following-link"
           th:attr="data-url='/user/'+${#authentication.principal.nickName} + '/followees'"
           onclick="location.href=this.getAttribute('data-url')"
           th:if="${followsCount.getFolloweeCount() > 0}">
            <em>작가</em>
            <span th:text="${followsCount.getFolloweeCount()}"></span>
        </a>
        <a class="following-link" href="#" th:unless="${followsCount.getFolloweeCount() > 0}">
            <em>작가</em>
            <span th:text="${followsCount.getFolloweeCount()}"></span>
        </a>

    </section>
</aside>
<main style="text-align: center">

</main>

<section class="col" style="text-align: center">
    <a th:if="${connectedInfos.isKakaoConnected()}"
       th:href="@{/social/disconnect/socialType(type=kakao)}" class="btn btn-block">
        카카오 계정 연동 취소
    </a>
    <a th:unless="${connectedInfos.isKakaoConnected()}"
       th:href="@{/social/kakao/login}" class="btn btn-block">
        카카오 계정 연결하기
    </a>
    <a th:if="${connectedInfos.isNaverConnected()}"
       th:href="@{/social/disconnect/socialType(type=naver)}" class="btn btn-block">
        네이버 계정 연동 취소
    </a>
    <a th:unless="${connectedInfos.isNaverConnected()}"
       th:href="@{/social/naver/login}" class="btn btn-block">
        네이버 계정 연결하기
    </a>

    <a th:if="${connectedInfos.isGoogleConnected()}"
       th:href="@{/social/disconnect/socialType(type=google)}" class="btn btn-block">
        구글 계정 연동 취소
    </a>
    <a th:unless="${connectedInfos.isGoogleConnected()}"
       th:href="@{/social/google/login}" class="btn btn-block">
        구글 계정 연결하기
    </a>
</section>
</body>
</html>